<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | ThirdEye Data</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #f8fafc;
            margin: 0;
            padding: 0;
        }

        .login-wrapper {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .login-main {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4rem 2rem;
        }

        .auth-card {
            background-color: #f8fcf9;
            padding: 2.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
            width: 100%;
            max-width: 500px;
            border: 1px solid var(--border-color);
        }

        .auth-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: #475569;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .form-input {
            width: 100%;
            padding: 0.85rem;
            border: 1px solid #cbd5e1;
            background-color: white;
            border-radius: 6px;
            color: var(--text-primary);
            font-family: inherit;
            outline: none;
            transition: border-color 0.2s;
        }

        .form-input:focus {
            border-color: var(--accent-cyan);
        }

        .btn-full {
            width: 100%;
            justify-content: center;
            margin-bottom: 1rem;
            padding: 0.9rem;
            font-weight: 600;
        }

        .auth-footer {
            text-align: center;
            margin-top: 2rem;
            font-size: 0.9rem;
            color: #64748b;
        }

        .auth-footer a {
            color: var(--accent-cyan);
            text-decoration: none;
            font-weight: 600;
        }

        .error-msg {
            color: var(--danger);
            font-size: 0.85rem;
            margin-bottom: 1.5rem;
            display: none;
            text-align: center;
            background: #fef2f2;
            padding: 0.75rem;
            border-radius: 6px;
        }
    </style>
</head>

<body class="grid-bg">
    <div class="login-wrapper">
        <main class="login-main">
            <div class="auth-card">
                <div class="auth-header">
                    <a href="index.html">
                        <img src="assets/thirdeye-logo.png" alt="ThirdEye logo"
                            style="height: 40px; margin-bottom: 1.5rem;">
                    </a>
                    <h2 style="font-weight: 700; color: var(--accent-green);">Sign In</h2>
                    <p style="color: #64748b; font-size: 0.95rem; margin-top: 0.5rem;">Access your vision intelligence
                        dashboard
                    </p>
                </div>

                <div id="error-message" class="error-msg"></div>

                <form id="login-form">
                    <div class="form-group">
                        <label class="form-label" for="email">Work Email</label>
                        <input type="email" id="email" class="form-input" placeholder="name@company.com" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="password">Password</label>
                        <input type="password" id="password" class="form-input" placeholder="••••••••" required>
                        <div style="text-align: right; margin-top: 0.6rem;">
                            <a href="forgot-password.html"
                                style="color: var(--accent-cyan); text-decoration: none; font-size: 0.85rem; font-weight: 500;">Forgot
                                password?</a>
                        </div>
                    </div>
                    <button type="submit" class="btn-primary btn-full" style="background: var(--accent-green);">Sign
                        In</button>
                </form>

                <div style="display: flex; align-items: center; text-align: center; margin: 1.5rem 0; color: #cbd5e1;">
                    <div style="flex: 1; height: 1px; background: #e2e8f0;"></div>
                    <span style="padding: 0 1rem; font-size: 0.8rem; font-weight: 500;">OR</span>
                    <div style="flex: 1; height: 1px; background: #e2e8f0;"></div>
                </div>

                <button id="google-btn"
                    style="width: 100%; padding: 0.85rem; background: white; border: 1px solid #cbd5e1; border-radius: 6px; display: flex; align-items: center; justify-content: center; gap: 0.75rem; cursor: pointer; font-weight: 500; color: #475569;">
                    <svg width="20" height="20" viewBox="0 0 24 24">
                        <path
                            d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
                            fill="#4285F4" />
                        <path
                            d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                            fill="#34A853" />
                        <path
                            d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z"
                            fill="#FBBC05" />
                        <path
                            d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                            fill="#EA4335" />
                    </svg>
                    Continue with Google
                </button>

                <div class="auth-footer">
                    New here? <a href="register.html">Create an account</a>
                </div>
            </div>
        </main>

        <footer class="site-footer">
            <div class="footer-container">
                <div class="footer-left">
                    <div class="footer-brand">
                        <img src="assets/thirdeye-logo.png" alt="ThirdEye Logo" class="footer-logo">
                    </div>
                    <p class="copyright">©2026. ThirdEye Data. All Rights Reserved.</p>
                </div>
                <div class="footer-right">
                    <div class="social-links">
                        <a href="https://www.linkedin.com/company/thirdeyedata" target="_blank"
                            rel="noopener noreferrer" class="social-icon">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                            </svg>
                        </a>
                        <a href="https://x.com/thirdeye_data" target="_blank" rel="noopener noreferrer"
                            class="social-icon">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231 5.451-6.231zm-1.161 17.52h1.833L7.084 4.126H5.117l11.966 15.644z" />
                            </svg>
                        </a>
                        <a href="https://www.facebook.com/thirdeyedata" target="_blank" rel="noopener noreferrer"
                            class="social-icon">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M22.675 0h-21.35C.597 0 0 .597 0 1.326v21.348C0 23.403.597 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116c.73 0 1.325-.597 1.325-1.326V1.326C24 .597 23.403 0 22.675 0z" />
                            </svg>
                        </a>
                        <a href="https://www.youtube.com/user/ThirdEyeCSS" target="_blank" rel="noopener noreferrer"
                            class="social-icon">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" />
                            </svg>
                        </a>
                        <a href="https://vimeo.com/channels/thirdeyedata" target="_blank" rel="noopener noreferrer"
                            class="social-icon">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M22.396 7.158c-.093 2.026-1.507 4.799-4.245 8.32-2.84 3.65-5.242 5.48-7.208 5.48-1.208 0-2.234-1.112-3.078-3.336-.56-2.056-1.12-4.111-1.68-6.167-.621-2.311-1.284-3.468-1.991-3.468-.155 0-.698.323-1.63 1.054l-.988-1.269c1.026-.901 2.036-1.783 3.024-2.613 1.365-1.144 2.39-1.753 3.078-1.83 1.614-.155 2.607.962 2.98 3.33.403 2.557.683 4.144.839 4.755.373 1.614.776 2.42 1.21 2.42.342 0 .869-.53 1.583-1.583.714-1.055 1.102-1.85 1.165-2.383.155-1.21-.31-1.815-1.396-1.815-.51 0-1.042.115-1.595.348 1.04-3.411 3.024-5.087 5.952-4.996 2.155.064 3.16 1.448 3.012 4.16z" />
                            </svg>
                        </a>
                        <a href="https://medium.com/@thirdeyedata" target="_blank" rel="noopener noreferrer"
                            class="social-icon">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M13.54 12a6.8 6.8 0 0 1-6.77 6.82A6.8 6.8 0 0 1 0 12a6.8 6.8 0 0 1 6.77-6.82A6.8 6.8 0 0 1 13.54 12zm7.42 0c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42zM24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z" />
                            </svg>
                        </a>
                        <a href="https://feeds.feedburner.com/thirdeyedata/rss-feed" target="_blank"
                            rel="noopener noreferrer" class="social-icon">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M6.18,15.64A2.18,2.18,0,1,1,4,13.46,2.18,2.18,0,0,1,6.18,15.64ZM4,5V8.34A10.66,10.66,0,0,1,14.66,19H18A14,14,0,0,0,4,5ZM4,13V15.7A3.3,3.3,0,0,1,6.3,18H9A5,5,0,0,0,4,13Z" />
                            </svg>
                        </a>
                    </div>
                    <div class="footer-links-row">
                        <a href="#">Privacy Policy</a>
                        <span class="link-divider">|</span>
                        <a href="#">Terms & Conditions</a>
                        <span class="link-divider">|</span>
                        <a href="#">Cookies Policy</a>
                        <span class="link-divider">|</span>
                        <a href="#">System Status</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script type="module">
        import { signIn, signInWithGoogle, requireNoAuth } from './auth.js';
        requireNoAuth();

        const loginForm = document.getElementById('login-form');
        const googleBtn = document.getElementById('google-btn');
        const errorMsg = document.getElementById('error-message');

        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const btn = loginForm.querySelector('button');

            btn.textContent = 'Verifying...';
            btn.disabled = true;
            errorMsg.style.display = 'none';

            const { data, error } = await signIn(email, password);

            if (error) {
                errorMsg.textContent = error.message;
                errorMsg.style.display = 'block';
                btn.textContent = 'Sign In';
                btn.disabled = false;
            } else {
                window.location.href = 'dashboard.html';
            }
        });

        googleBtn.addEventListener('click', async () => {
            const { error } = await signInWithGoogle();
            if (error) {
                errorMsg.textContent = error.message;
                errorMsg.style.display = 'block';
            }
        });
    </script>
</body>

</html>